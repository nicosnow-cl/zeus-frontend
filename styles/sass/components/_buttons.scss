@use '../abstracts/mixins' as *;

@layer components {
  .btn {
    @apply relative h-auto overflow-hidden rounded-full border px-3 py-1.5 text-base font-normal transition-[background,transform,shadow] duration-200 ease-in-out;

    @include button-colored(shade);
    @include generate-all-button-colored();

    &::before {
      @apply absolute inset-0;

      content: '';
      border-radius: 0;
      width: 50%;
      height: 100%;
      background: linear-gradient(to left, rgb(var(--clr-shade-50-ch) / 6.5%), transparent);
      transform: skewX(45deg) translate(0);
    }

    &::after {
      @apply absolute bottom-0 left-0 right-0 bg-shade-950 opacity-0 blur-sm transition-opacity duration-200 ease-in-out;

      content: '';
      width: 100%;
      height: 3px;
    }

    html.dark &::before {
      background: linear-gradient(to left, rgb(var(--clr-shade-950-ch) / 10%), transparent);
    }

    &:hover:not(:disabled),
    &:active:not(:disabled) {
      @apply shadow-md;

      &::after {
        @apply opacity-100;
      }
    }

    &:disabled {
      @apply cursor-not-allowed;

      &::before,
      &::after {
        @apply opacity-0;
      }
    }
  }

  .btn-group {
    @apply flex rounded-2xl;

    & > :first-child {
      @apply rounded-l-2xl;
    }

    & > :last-child {
      @apply rounded-r-2xl;
    }

    & > :not(:first-child) {
      @apply border-l border-shade-700/50 dark:border-shade-400/50;
    }
  }

  .btn-link {
    @apply flex items-center gap-x-2 px-3 py-1.5 text-shade-100 transition-[background] duration-150 hover:bg-gray-950/10;
  }
}
